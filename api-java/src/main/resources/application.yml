# Configuration de l'API Foncier
server:
  port: 8080
  servlet:
    context-path: /

spring:
  application:
    name: foncier-api
  profiles:
    active: dev

# Configuration Fabric
fabric:
  network-config-path: ${FABRIC_CONFIG_PATH:/home/absolue/my-blockchain/network/connection-profile.yaml}
  wallet-path: ${FABRIC_WALLET_PATH:/home/absolue/my-blockchain/network/wallet}
  channel-name: ${FABRIC_CHANNEL:AFOR_CONTRAT_AGRAIRE}
  chaincode-id: ${FABRIC_CHAINCODE:foncier-chaincode}
  msp-id: ${FABRIC_MSP_ID:AFOROrg}
  user-id: ${FABRIC_USER_ID:Admin@afor.foncier.ci}
  tls:
    enabled: true
    cert-path: ${FABRIC_TLS_CERT_PATH}
    key-path: ${FABRIC_TLS_KEY_PATH}
    ca-path: ${FABRIC_TLS_CA_PATH}

# Configuration de logging
logging:
  level:
    gn.foncier.api: DEBUG
    org.hyperledger: INFO
    org.springframework.security: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
  file:
    name: logs/foncier-api.log

# Configuration de sécurité
security:
  jwt:
    secret: ${JWT_SECRET:foncier-guinea-secret-key-2024}
    expiration: ${JWT_EXPIRATION:86400} # 24 heures
  cors:
    allowed-origins: "*"
    allowed-methods: "GET,POST,PUT,DELETE,OPTIONS"
    allowed-headers: "*"

# Configuration OpenAPI/Swagger
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    operations-sorter: alpha
    tags-sorter: alpha
  info:
    title: "API Gestion Foncière Côte d'Ivoire"
    description: "API REST pour la gestion des contrats fonciers ruraux sur blockchain Hyperledger Fabric"
    version: "1.0.0"
    contact:
      name: "AFOR - Agence Foncière Rurale"
      email: "contact@afor.gov.ci"
    license:
      name: "Apache 2.0"
      url: "https://www.apache.org/licenses/LICENSE-2.0"

# Configuration des actuators
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: always
  info:
    env:
      enabled: true

# Configuration de l'application
app:
  name: "Système de Gestion Foncière - Côte d'Ivoire"
  version: "1.0.0"
  description: "Plateforme blockchain pour la gestion des contrats fonciers ruraux"
  organizations:
    - name: "AFOR"
      description: "Agence Foncière Rurale"
      channels: ["AFOR_CONTRAT_AGRAIRE", "AFOR_CERTIFICATE", "ADMIN"]
    - name: "CVGFR"
      description: "Comité Villageois de Gestion Foncière Rurale"
      channels: ["AFOR_CONTRAT_AGRAIRE", "ADMIN"]
    - name: "PREFET"
      description: "Préfecture - Autorité Administrative"
      channels: ["AFOR_CERTIFICATE", "ADMIN"]